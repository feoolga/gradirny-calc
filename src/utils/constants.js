/**
 * Физические и технические константы для расчёта градирен ВОДЭХ-144
 * Все значения соответствуют исходным данным из Excel-расчётов и нормативным документам
 * 
 * Основные источники:
 * 1. Исходный Excel-файл "Образец.xlsx" (лист ВОДЭХ-144)
 * 2. ГОСТ 6709-72 "Вода дистиллированная"
 * 3. ГОСТ 2939-63 "Газы. Условия для определения объёма"
 * 4. Техническая документация на градирни ВОДЭХ-144
 */

// ==================== Параметры оросителей ====================
/**
 * Характеристики различных типов оросителей
 * @namespace SPRINKLER_TYPES
 * 
 * Параметры:
 * - a0: Коэффициент эффективности оросителя [1/м] (из технических данных производителя)
 * - m: Показатель степени в уравнении тепломассообмена (эмпирический коэффициент)
 * - hor: Высота слоя оросителя [м] (конструктивный параметр)
 * - kor: Коэффициент орошения [м·ч/м³] (зависит от типа оросителя)
 */
export const SPRINKLER_TYPES = {
  'ОДГ-60/40': {
    a0: 1.184,    // Из паспорта оросителя ОДГ-60/40
    m: 0.43,      // Эмпирический коэффициент для данного типа
    hor: 1.4,     // Стандартная высота для этого оросителя
    kor: 0.541    // Примерное значение, уточнить у заказчика
  },
  'FD-125': {
    a0: 0.887,    // Из технического описания FD-125
    m: 0.33,      // Характеристика для пленочных оросителей
    hor: 1.65,    // Конструктивная высота
    kor: 0.5      // Типовое значение для FD серии
  },
  'FD-100': {
    a0: 0.981,    // По данным завода-изготовителя
    m: 0.33,      // Аналогично FD-125
    hor: 1.35,    // Меньшая высота слоя
    kor: 0.6      // Скорректированный коэффициент
  },
  'БНС 5.5.5.': {
    a0: 0.981,    // Для блочных насадочных систем
    m: 0.33,      // Стандартный показатель
    hor: 1.35,    // Высота блока
    kor: 0.6      // Коэффициент для БНС
  }
};

// ==================== Физические константы ====================
/**
 * Физические константы, используемые в расчётах
 * @namespace PHYSICS
 */
export const PHYSICS = {
  /**
   * Удельная теплоёмкость воды при 20°C
   * @type {number}
   * @unit кДж/(кг·°C)
   * @source ГОСТ 6709-72 "Вода дистиллированная"
   * @note В Excel-расчётах используется значение 1 ккал/(кг·°C) = 4.1868 кДж/(кг·°C)
   */
  WATER_HEAT_CAPACITY: 4.1868,
  
  /**
   * Удельная теплота парообразования воды при 100°C
   * @type {number}
   * @unit ккал/кг
   * @source Табличные данные из термодинамических справочников
   * @note В Excel-расчётах используется значение 595 ккал/кг (соответствует 2490 кДж/кг)
   */
  EVAPORATION_HEAT: 595,
  
  /**
   * Плотность воды при 20°C и нормальном давлении
   * @type {number}
   * @unit кг/м³
   * @source ГОСТ 6709-72
   * @note В расчётах используется округлённое значение
   */
  WATER_DENSITY: 1000,
  
  /**
   * Универсальная газовая постоянная сухого воздуха
   * @type {number}
   * @unit кг·м/(кг·°C)
   * @source Исходный Excel-файл (лист ВОДЭХ-144, константа Rвс)
   * @note Значение 29.27 соответствует 287 Дж/(кг·К) в СИ
   */
  GAS_CONSTANT_AIR: 29.27,
  
  /**
   * Стандартное атмосферное давление
   * @type {number}
   * @unit кПа
   * @source ГОСТ 2939-63 "Газы. Условия для определения объёма"
   * @note В Excel-расчётах используется 100.4 кПа (для г. Волгоград)
   */
  STANDARD_PRESSURE: 101.325,
  
  /**
   * Коэффициент для расчёта мощности вентилятора
   * @type {number}
   * @unit безразмерная
   * @source Эмпирические данные из Excel (лист ВОДЭХ-144, формула в ячейке H36)
   * @note 1.3·10⁴ - эмпирический коэффициент в формуле мощности
   */
  POWER_CALC_COEFF: 1.3e4
};

// ==================== Параметры по умолчанию ====================
/**
 * Параметры по умолчанию для расчётов
 * @namespace DEFAULTS
 */
export const DEFAULTS = {
  /**
   * Стандартная площадь орошения для одной секции ВОДЭХ-144
   * @type {number}
   * @unit м²
   * @source Исходный Excel-файл (лист ВОДЭХ-144, ячейка C15)
   * @note Для градирни 12x12 м = 144 м²
   */
  TOWER_AREA: 144,
  
  /**
   * Максимальное допустимое соотношение воздух/вода
   * @type {number}
   * @unit безразмерная
   * @source Технические требования к градирням ВОДЭХ-144 (ячейка C11)
   * @note Минимальное требование: ≥600
   */
  MAX_LAMBDA: 600,
  
  /**
   * Коэффициент капельного уноса воды
   * @type {number}
   * @unit безразмерная
   * @source Исходный Excel-файл (лист ВОДЭХ-144, ячейка H22)
   * @note Формула: Gy = 0,0004 * Gг
   */
  DROPLET_LOSS_COEFF: 0.0004,
  
  /**
   * Параметры оросителя по умолчанию для ВОДЭХ-144
   * @type {Object}
   * @source Исходный Excel-файл (лист ВОДЭХ-144, блок "Характеристики оросителя")
   */
  SPRINKLER: {
      /**
       * Коэффициент эффективности оросителя
       * @type {number}
       * @unit 1/м
       * @note Из ячейки C26 в Excel
       */
      A0: 0.858,
      
      /**
       * Показатель степени для расчёта тепломассообмена
       * @type {number}
       * @unit безразмерная
       * @note Из ячейки C27 в Excel
       */
      M: 0.3,
      
      /**
       * Коэффициент орошения
       * @type {number}
       * @unit м·ч/м³
       * @note Из ячейки C28 в Excel
       */
      KOR: 0.541,
      
      /**
       * Высота слоя оросителя
       * @type {number}
       * @unit м
       * @note Из ячейки C38 в Excel
       */
      HOR: 0.9
  },
  
  /**
   * Коэффициенты сопротивления по умолчанию
   * @type {Object}
   * @source Исходный Excel-файл (лист ВОДЭХ-144, блок "Коэффициенты сопротивления")
   */
  RESISTANCE: {
      /**
       * Коэффициент сопротивления оросителя
       * @type {number}
       * @unit безразмерная
       * @note Из ячейки C29 в Excel
       */
      ZSO: 8.2,
      
      /**
       * Коэффициент сопротивления водоуловителя
       * @type {number}
       * @unit безразмерная
       * @note Из ячейки C30 в Excel
       */
      ZVU: 6,
      
      /**
       * Коэффициент сопротивления окон
       * @type {number}
       * @unit безразмерная
       * @note Из ячейки C31 в Excel
       */
      ZOK: 8
  },
  
  /**
   * Коэффициенты полезного действия по умолчанию
   * @type {Object}
   * @source Исходный Excel-файл (лист ВОДЭХ-144, блок "КПД")
   */
  EFFICIENCY: {
      /**
       * КПД рабочего колеса вентилятора
       * @type {number}
       * @unit безразмерная (0..1)
       * @note Из ячейки C33 в Excel
       */
      ETA_K: 0.69,
      
      /**
       * КПД привода вентилятора (прямой привод)
       * @type {number}
       * @unit безразмерная (0..1)
       * @note Из ячейки C34 в Excel
       */
      ETA_P: 1.0,
      
      /**
       * КПД привода через пластиковый вал
       * @type {number}
       * @note Из ячейки C35 в Excel
       */
      ETA_P_PLASTIC: 0.95,
      
      /**
       * КПД привода через металлический вал
       * @type {number}
       * @note Из ячейки C36 в Excel
       */
      ETA_P_METAL: 0.89
  },
  
  /**
   * Коэффициент для расчёта длины воздухораспределителя
   * @type {number}
   * @unit безразмерная
   * @source Исходный Excel-файл (лист ВОДЭХ-144, формула в ячейке C16)
   * @note L = width/4 (для ВОДЭХ-144)
   */
  AIR_DISTRIBUTOR_COEFF: 0.25,
  
  /**
   * Коэффициент для расчёта потерь на продувку
   * @type {number}
   * @unit безразмерная
   * @source Исходный Excel-файл (лист ВОДЭХ-144, ячейка H23)
   * @note Формула: Gп = Gi/(Kуп - 1) - Gy, где Kуп = 5
   */
  BLOWDOWN_COEFF: 0.25  // 1/(5-1) = 0.25
};